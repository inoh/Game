<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<script src="enchant.min.js" type="text/javascript"></script>
<script type="text/javascript">
window.onload = function () {
  enchant();

  var game = new Game(640, 320);
  game.onload = function () {
    var scene = new Scene(),
        xhr = new XMLHttpRequest();

    xhr.open("GET", "http://lmt.ruby.iijgio.com/memos.json");
    xhr.send();
    xhr.onload = function () {
      var res = JSON.parse(this.responseText);
      for(obj in res) {
        scene.addChild(new Label(res[obj].title));
      }
      game.addEventListener('enterframe', function () {
        for(node in scene.childNodes) {
          scene.childNodes[node].x += parseInt(node, 10) + 1.5;
          scene.childNodes[node].y += parseInt(node, 10) + 0.5;
        }
      });
    }
    xhr.onerror = function (e) {
      alert("error: " + this.statusText);
    }

    game.pushScene(scene);
  };
  game.start();
}
</script>
</head>
<body>
</body>
</html>
